<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort>
    @for (column of columns; track $index) {
      <ng-container [matColumnDef]="column.id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          {{ column.text }}
        </th>
        <td mat-cell *matCellDef="let row">
          {{ row[column.id] }}
        </td>
      </ng-container>
    }

    @if (showDetails) {
      <ng-container matColumnDef="details">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let row">
          <button mat-button (click)="detailsClick(row)">
            <img src="assets/actions/detalle.svg" alt="Detalle" />
          </button>
        </td>
      </ng-container>
    }

    @if (showEdit) {
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let row">
          <button mat-button (click)="editClick(row)">
            <img src="assets/actions/editar.svg" alt="Editar" />
          </button>
        </td>
      </ng-container>
    }

    @if (showDelete) {
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let row">
          <button mat-button (click)="deleteClick(row)">
            <img src="assets/actions/eliminar.svg" alt="Borrar" />
          </button>
        </td>
      </ng-container>
    }

    <ng-content></ng-content>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  @if (pagination) {
    <mat-paginator
      [pageSize]="100"
      [pageSizeOptions]="[5, 10, 20, 100]"
      showFirstLastButtons
      aria-label="Selecciones nÃºmero de elementos"
    >
    </mat-paginator>
  }
</div>
